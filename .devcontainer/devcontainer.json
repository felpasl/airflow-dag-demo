{
  "name": "Airflow ClickHouse Dev Environment",
  "dockerComposeFile": [
    "../docker-compose.yml" // Path relative to .devcontainer folder
  ],
  "service": "airflow-webserver", // Or airflow-scheduler, decide which is best for dev/debugging
  "workspaceFolder": "/opt/airflow",
  "customizations": {
    "vscode": {
      "extensions": [
        "ms-python.python",         // Python extension
        "ms-azuretools.vscode-docker", // Docker extension
        "redhat.vscode-yaml",       // YAML for docker-compose and other files
        "ms-python.flake8",         // Linter
        "ms-python.black-formatter" // Formatter
      ],
      "settings": {
        "python.pythonPath": "/usr/local/bin/python", // Path to python inside the container
        "python.linting.flake8Enabled": true,
        "python.linting.pylintEnabled": false,
        "python.formatting.provider": "black",
        "editor.formatOnSave": true,
        // Point to the interpreter inside the container for Airflow
        "python.defaultInterpreterPath": "/usr/local/bin/python" 
      }
    }
  },
  // "postCreateCommand": "airflow db init", // This is handled by airflow-init now
  "remoteUser": "airflow" // Should match the user in your Dockerfile
}
